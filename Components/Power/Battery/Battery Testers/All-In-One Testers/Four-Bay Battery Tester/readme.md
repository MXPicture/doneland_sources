<img src="/assets/images/lightning.png" width="100%" height="100%" />

# Four Battery-Tester

> Semi-Professional Battery Tester Simultaneously Testing Up To 4 Batteries

This battery tester is an upgraded version of the simple *one battery*-tester. It uses all four battery bays for testing and can test up to four batteries simultaneously and reliably identifies *counterfeit* batteries and true battery capacity and health. 

<img src="images/4bay_18650_battery_tester_small_t.png" width="100%" height="100%" />


## Overview

While this tester is optimized for *18650 cell* analysis, it can easily be used with many other battery types: thanks to its *screw terminals*, simply attach alternate battery bays suiting the battery types you want to test. Just make sure the batteries under test do not exceed the maximal voltage of **5V**. 

The *USB-C **test** connector* that was found on its single-battery predecessor has been removed. It was used for testing *USB C battery banks* but since modern battery banks can easily exceed the *5V limit*, this option could easily turn into a risk. 



So while you still can test battery banks, you would have to design your own *USB adapter* and fit it to the screw terminals, and while at it, you would take appropriate measures to ensure that the adapter would not trigger higher voltage protocols.


| Feature  | Description  |
|---|---|
| Channels | 4   |
| Battery Under Test  | **5V max:**<br/>- *18650* battery bay<br/>- *Screw Terminal* (back side) |
| Power Supply | **2x** *USB-C* (each *USB-C* serving two battery bays)  |
| Discharge Test  | *4 Ohms 10W* load resistor:<br/>- Max discharge current *1A*<br/>- Units: total *mAh* **or** total *mWh*<br/>- Stop-voltage configurable (*2.5–3.5V*)<br/>- Fan (runs continuously, no temperature control) |
| Charging | - *LiIon* and *LiPo* only<br/>- Max charging current *1A* |
| Auto-Test | Yes, charge-discharge-charge cycle with total discharge energy reported |
| Off-Button | no, disconnect *USB-C* to power off |
| Language | *English* and *Chinese*, configurable |
| Firmware | - Version 5.6<br/>- User cannot upgrade firmware |
| LED  | one *red* LED per battery bay:<br/>- *off:* no test<br/>- *blinking:* test running<br/>- *on:* test completed |
| Display | - Color-TFT<br/>- Backlight |


### Power Supply

Unlike its single-battery predecessor, this device no longer uses an internal battery for power supply and always requires *external USB power*. 

**Both** *USB-C* connectors serve as *power input*, and you can connect *either one*. However, during charging, each *USB-C connector* supplies power to only *two battery bays*, and you would need to connect external power to both *USB C* connectors if you want to use all four battery bays at the same time:

* **Left USB-C:** supplies charging power to the left two battery bays
* **Right USB-C:** supplies charging power to the right two battery bays

### Fan

This tester has a fan that is mounted on top of the four load resistors (4 Ohms each). Thanks to the fan covering (and cooling) the load resistors, there is no risk anymore for accidental burns, and the resistors stay at moderate temperatures.



<img src="images/four_bay_18650_battery_tester_buttons_t.png" width="80%" height="80%" />

The fan is turned on automatically whenever (any) test runs, regardless of the type of test. That is unfortunate because the fan frequently runs when it makes no sense: if you are running a *charging test*, the load resistors are not heating up, so the running fan isn't doing any good.

> [!TIP]
> The fan is connected with a *JST XH* connector, so you can easily add a switch or smart temperature control should the fan noise bother you. There is not much noise generated by the fan, though.


## Buttons and Operation

The unit is operated via four push buttons:

<img src="images/4bay_18650_battery_tester_buttonlabels.png" width="100%" height="100%" />

* **Menu Select:** *(marked **M** on the PCB)* Short-press to select a menu item. Long-press to start the currently selected test on *all four channels* at once. Unfortunately, there is no way to **stop** all tests on all channels with a single button press.
* **Change Settings:** *(marked **S** on the PCB)* Short-Press to *increment* the currently selected menu item. There’s no *decrement* option, so continue pressing until the settings cycle back to the beginning.
* **Start/Stop Test:** *(marked **R/S** on the PCB)* Short-Press to *start*, *pause*, or *resume* the selected test. Long-press to *stop and reset* or *reset and start* (setting the results to zero).
* **Select Channel:** *(marked **CHN** on the PCB)* Short-Press to switch to a different channel (1-4). The display always shows the selected channel in its upper right corner. All four channels run independently and simultaneously, regardless of which channel details the display currently shows.

### Changing Language

The unit supports *English* and *Chinese*. To switch between languages, follow these steps:

* **English:** keep the 1st and 3rd push button pressed, then connect the device to power.    
* **Chinese:** keep the 1st and 2nd push button pressed, then connect the device to power.

## Test Modes and Settings

The unit offers three test modes: *AUTO*, *CHG*, and *DSG*:

* **Automatic Testing** (*LiIon/LiPo only*): In **AUTO** mode, the unit sequentially *charges*, then *discharges* while logging the drawn current, and then *charges* the battery again to provide a full capacity assessment. The battery is left fully charged at the end.

   To select AUTO mode, press the `M` button until the **Mode** menu is highlighted, then press `S` until **AUTO** appears.
   
* **Discharge Test** (*all battery types*): In **DSG** mode, the unit starts *discharging* and logs the discharged energy. It then leaves the battery discharged, so this mode is suitable for non-LiIon/LiPo batteries like *LiFePO4* or *NiMH* that cannot be safely charged with this device.

   To select DSG mode, press the `M` button until the **Mode** menu is highlighted, then press `S` until **DSG** appears.
   
* **Charge Test** (*LiIon/LiPo only*): In **CHG** mode, the unit serves as a charger specifically for *LiIon/LiPo* batteries, and logs the charged energy.

   To select CHG mode, press the `M` button until the **Mode** menu is highlighted, then press `S` until **CHG** appears.

Additional test settings can be adjusted for further customization:

* **Loops:** In **AUTO** mode, set up to *10 consecutive loops* for enhanced accuracy.

    To set loops, press the `M` button until the **Loop** menu is highlighted, then press `S` to cycle through the number of loops (*1–10*).
* **Stop Voltage:** In **AUTO** and **DSG** modes, a *stop voltage* can be defined for discharge tests, ideal for different battery chemistries (e.g., *LiFePO4*) or to prevent deep discharge.

    To set stop voltage, press the `M` button until the **Stop** menu is highlighted, then press `S` to adjust the *stop voltage* (*2.5–3.5V* in 0.1V increments).


## Performing Battery Capacity Test

You can reliably measure the total battery capacity by either *discharging a fully charged* battery or *charging a fully discharged* one:

* **Charge Test:** This approach is efficient if you use the battery until it’s “empty” by your standards, then perform a *CHG* test. The tester logs the *charging energy transferred back* into the battery as it recharges.
* **Discharge Test:** For higher precision, use the *AUTO* test. Here, the tester first *fully charges* the battery to a specified level, then *fully discharges* it to a safe stop voltage. In this test, the device logs the *total energy drawn from the battery*. 

The *discharge test* using *AUTO* mode starts the battery from a defined level, producing consistent results. However, this test takes longer as it includes three phases—charging, discharging, and charging again—and slightly increases battery wear.

The *charging test* in *CHG* mode is faster and reduces battery wear: since the battery would need recharging anyway, the tester simply functions as a smart charger, logging the energy input. The drawback is that there’s no set start level, making the “empty” state subject to user interpretation.

> [!TIP]
> For a more efficient manual testing setup, first run a *DSG* mode test to discharge the battery to a specified stop voltage, then follow up with a *CHG* cycle. This way, the battery charges from a defined "empty" state without unnecessary wear. However, the built-in *AUTO* mode runs the opposite sequence, consuming an extra charge cycle.

### 1. Select Test Parameters

Before testing, follow these steps to select the test mode and its parameters:

1. **Channel:** Short-press the *right* button (marked `CHN`) to select the channel you want to use. The battery bays are marked `CHN1` to `CHN4`, and this also applies to the *screw terminals* on their back side. Make sure the correct channel number is shown in the top right corner of the display. 
1. **Stop Voltage:** Now set a safe stop voltage for your battery. **3.0V** is generally safe for *LiIon/LiPo* batteries.
    1. Turn the device on by connecting it to power.
    2. Short-press the left button (`M`) until the **STOP** setting is highlighted in red.
    3. Short-press the second button (`S`) until the display shows the desired stop voltage.
   
2. **Test Mode:** Select the test mode: *DSG*, *CHG*, or *AUTO*.
    1. Short-press the left button (`M`) until the **MODE** setting is highlighted in red.
    2. Short-press the left button (`S`) until the desired test mode is displayed.
    
3. **Loops:** Set the **LOOP** option. Generally, set this to **1** for a single loop test.


All settings are permanently stored and will stay active until manually updated.


### 2. Connect Battery Under Test

Once you have set the test paramaters, connect the battery **to the channel you have just configured**. All four channels can be configured independently, so it is important to connect the battery to the appropriate channel. Each battery bay is clearly marked as `CHN1` through `CHN4`, and the same applies to the *screw terminals* on their back side.

Make sure that the battery voltage does not exceed **5V**, especially when testing power banks. 

> [!IMPORTANT]
> When inserting a *18650 cell* into the battery bay, be **extremely careful not to reverse polarity**, or else you **may destroy the device**. The polarity is printed into the battery bay: the positive pole is facing you when looking from the side with the push buttons.

These are your choices for connecting the battery under test:

* **18650:** Insert an *18650* cell in the **right battery bay**, **or**    
* **Alternate Battery/Power Bank:** Attach wires to the screw terminal on the back of the appropriate **battery bay**, and attach a suitable connector or alternate battery bay.

### 3. Start the Test

To start a test, these are your options:

* **Start/Continue current channel:** short-press the third button (`R/S`)
* **Start/Reset current channel:** long-press the third button (`R/S`)
* **Start/Reset ALL channels:** long-press the first button (`M`)


The display’s **STA** field shows the test status. The test stops automatically upon completion. Pressing the right button again will pause or abort an ongoing test.

#### USB-C Power Supply Requirements For Charging
Keep in mind that tests involving *charging* (`CHG` and `AUTO`) need a *specific USB-C port* to be connected to external USB power once charging is activated. If the required *USB-C port* is not connected to external USB power, charging current for this channel remains at **0A**.

> [!NOTE]
> This may be have been confusing, so let's elaborate: if you connect **just one** *USB-C* connector to external USB power, then all four channels seem to work just fine, report test results, and can be confugured alright. However, once any of your tests invokes charging, then the *charging current* will always stay at **0A** for those channels that are served by the disconnected *USB C* port. To play simple and safe, make sure you connect *both USB-C connectors* to external USB power.



## Test Results

Test results are shown in the lower portion of the display and are continually updated throughout the test:

* **mAh:** Capacity in *mAh*.
* **mWh:** Capacity in *mWh*, accounting for battery *voltage* and *voltage drops* for an accurate energy measure.
* **mR:** Calculated *internal resistance* of the battery in *milliOhms*. Lower values indicate better quality; for *18650* cells, typical values should be below *80mOhm*, and for high-drain cells, they should be well below *20mOhm*.
* **Time:** The elapsed time for the current test, displayed in hours, minutes, and seconds.


<img src="images/4bay_18650_battery_tester_displaylabels.png" width="80%" height="80%" />" 

Test results are constantly updated while a test is in progress. In the modes *DSG* and *AUTO*, the **discharge capacity** is measured. In the mode *CHG*, the **charge capacity** is measured.


## Conclusion
This affordable tester has matured considerably from its one-battery predecessor and is an excellent choice: it reliably tests up to *four* batteries. While it is optimized for *18650*, its four screw terminals can easily be connected to alternate battery bays and cater all needs.

The design flaws of the original single battery tester have all been fixed:

* **Hardware:** no longer is a battery bay wasted as internal power supply, and all four bays can be used for testing. The load resistor got active cooling through a fan, and the fan covers the resistors so you can't accidentally touch them and get burned.
* **Software:** the firmware version *5.6* indicates the improvements made. The original single-battery tester uses version *4.2*. The new firmware has clever button shortcuts and new features required for multi-channel operation.

> [!TIP]
> If you don't need *four* channels but would like to benefit from all these improvements, then a smaller *two channel* version is also available that runs the same firmware version *5.6*.   


### Ideas for Improvement
Although this device works almost perfectly, there is still room for improvement, either for the vendor or for you (if you are willing to optimize your device):

* **Smarter Fan:** Although the fan isn't very noisy, it is unpleasantly noticeable. Adding temperature control - or at least a manual switch - and enhancing the firmware to turn off the fan whenever there is no *discharge* test happening would be simple fixes.
* **Dedicated Power Switch:** the device can no longer be turned off. Long-pressing the `M` button now invokes tests on all four channels. The only way to turn off the device is by removing the external USB power. Since *two USB power connections* are required for full functionality on all four channels, this means pulling out two USB plugs. Adding a dedicated power switch sounds like a reasonable improvement.
* **Stop All Tests:** While it is great to be able to start tests *on all channels simultaneously* by long-pressing `M`, I haven't found a trick to do the opposite, and **stop** all running tests at once. Adding this to the firmware would complete the otherwise good usability of this device.

> Tags: Battery Tester, All-in-One, Capacity, Internal Resistance, 4-Channel

